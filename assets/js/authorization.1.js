!function(){var e={4110:function(){document.querySelectorAll('input[type="password"]').forEach((e=>{const t=e.closest(".form-control").querySelector(".form-control__password-toggle");t.addEventListener("click",(()=>{"password"===e.type?(t.classList.remove("form-control__password-toggle_password"),e.type="text"):(t.classList.add("form-control__password-toggle_password"),e.type="password")}))}))}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,o),l.exports}!function(){"use strict";o(4110),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;function t(e){return e.value.replace(/\D/g,"")}function o(e){const o=e.target,r=t(o),n=e.clipboardData||window.clipboardData;if(n){const e=n.getData("Text");/\D/g.test(e)&&(o.value=r)}}function r(e){const o=e.target;let r=t(o);const{selectionStart:n}=o;let l="";if(!r)return o.value="","";if(o.value.length===n){if(["7","8","9"].indexOf(r[0])>-1){"9"===r[0]&&(r=`7${r}`);const e=(r[0],"+7");l=`${e} `,o.value=`${e} `,r.length>1&&(l+=`(${r.substring(1,4)}`),r.length>=5&&(l+=`) ${r.substring(4,7)}`),r.length>=8&&(l+=`-${r.substring(7,9)}`),r.length>=10&&(l+=`-${r.substring(9,11)}`)}else l=`+${r.substring(0,16)}`;o.value=l}else e.data&&/\D/g.test(e.data)&&(o.value=r)}function n(e){const t=e.target.value.replace(/\D/g,"");8===e.keyCode&&1===t.length&&(e.target.value="")}let l=[];l=e||document.querySelectorAll('input[type="tel"]'),l.forEach((e=>{e.addEventListener("keydown",n),e.addEventListener("input",r,!1),e.addEventListener("paste",o,!1)}))}();const e="authorization-form",t={VALID_PHONE:/^\+?\d{11,13}$/,VALID_EMAIL:/[a-z0-9]+@[a-z0-9]+\.[a-z0-9]+/i,VALID_PASSPORT_SERIES:/^\d{4}$/,VALID_PASSPORT_NUMBER:/^\d{6}$/,VALID_DATE:/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.\d{4}$/};function r(e){return t.VALID_PHONE.test(e.value.toString().replace(/[^\d]/g,""))}function n(e){return e.value.length>=6}function l(e){if("checkbox"===e.type||"hidden"===e.type)return null;let t=null;return"radio"!==e.type?e.closest(".form-control")?t=e.closest(".form-control").querySelector(".form-control__error"):e.closest(".form-select")?t=e.closest(".form-select").querySelector(".form-select__error"):e.closest(".form-file-upload")&&(t=e.closest(".form-file-upload").querySelector(".form-file-upload__error")):"radio"===e.type&&(t=e.closest(".form-radio").querySelector(".error")),t}function c(e,t){const o=l(t);o&&(o.textContent=e,o.classList.add("error_block","error_fade"))}function a(e){const t=l(e);t&&t.classList.contains("error_fade")&&t.classList.contains("error_block")&&(t.classList.remove("error_fade"),t.classList.remove("error_block"),t.textContent="")}function s(e){let t;return Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null===e||"object"!=typeof e||(t=new FormData(e)),t}async function u(e,t,o,r){let n=null;const l={method:e};"POST"===e&&(l.body=t);try{const e=await fetch(o,l);return r&&(e.redirected&&(window.location.href=e.url),n=await e.json()),n}catch(e){return console.error(e),n}}function i(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))t.forEach((t=>{t.removeAttribute("readonly"),e["error-info"].forEach((e=>{e["control-name"]===t.name?c(e["control-name"]===t.name?e["error-text"]:"Неизвестная ошибка",t):!o||void 0!==e["control-name"]&&"undefined"!==e["control-name"]||c("Неверный логин или пароль",o)}))}));else{const r=[];t.querySelectorAll("input").forEach((e=>{r.push(e)})),t.querySelectorAll("select").forEach((e=>{r.push(e)})),i(e,r,o)}}function d(e){return!(!e.status||"success"!==e.status)}function f(t,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(t)?window.location.href=document.getElementById(e).dataset.locationHref:i(t,o,r)}const p=document.getElementById(e),m=document.getElementById("auth-phone"),y=document.getElementById("auth-password"),g=function(e){const t=[];return["input","select"].forEach((o=>{e.querySelectorAll(o).forEach((e=>{t.push(e)}))})),t}(p);g.forEach((e=>{e.addEventListener("input",(()=>{a(e)}))})),document.getElementById("auth-come-in-button").addEventListener("click",(e=>{e.preventDefault(),g.forEach((e=>{a(e)})),r(m)||c("Некорректный номер телефона",m),n(y)||c("Некорректное значение поля",y),r(m)&&n(y)&&async function(e,t,o,r,n){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const c=s(e),a=await u(t,c,o,n);r(a,e,l)}(p,p.method,p.action,f,!0,y)}))}()}();