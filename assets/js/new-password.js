!function(){var e={4110:function(){document.querySelectorAll('input[type="password"]').forEach((e=>{const t=e.closest(".form-control").querySelector(".form-control__password-toggle");t.addEventListener("click",(()=>{"password"===e.type?(t.classList.remove("form-control__password-toggle_password"),e.type="text"):(t.classList.add("form-control__password-toggle_password"),e.type="password")}))}))}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,o),n.exports}!function(){"use strict";o(4110);const e={form:"new-password-form",controls:{password:"new-password-password",repeat:"new-password-password-repeat"},buttons:{back:"new-password-back-button",submit:"new-password-submit-button"},message:"new-password-message-text"};function t(e){if("checkbox"===e.type||"hidden"===e.type)return null;let t=null;return"radio"!==e.type?e.closest(".form-control")?t=e.closest(".form-control").querySelector(".form-control__error"):e.closest(".form-select")?t=e.closest(".form-select").querySelector(".form-select__error"):e.closest(".form-file-upload")&&(t=e.closest(".form-file-upload").querySelector(".form-file-upload__error")):"radio"===e.type&&(t=e.closest(".form-radio").querySelector(".error")),t}function r(e,o){const r=t(o);r&&(r.textContent=e,r.classList.add("error_block","error_fade"))}const s={CE001:()=>"Некорректный номер телефона",CE002:()=>"Некорректное значение поля",CE003:()=>"Неизвестная ошибка",CE004:()=>"Неверный логин или пароль",CE005:()=>"Пароль не может быть короче 6 символов",CE006:()=>"Пароли не совпадают",CE007:()=>"Выберите тип пользователя",CE008:()=>"Введите код",CE009:()=>"Некорректный адрес электронной почты",CE010:e=>`Тип файла ${e.name} не соответствует ожидаемым`,CE011:e=>`Размер файла ${e.name} превышает допустимый`,CE012:e=>`Ожидается один файл, а не несколько. Добавлен только ${e.name}`,CE013:()=>"Поле не может быть пустым",CE014:()=>"Выберите одно из значений",CE015:()=>"Сначала выберите форму регистрации"};const n="success";function a(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))t.forEach((t=>{t.removeAttribute("readonly"),e["error-info"].forEach((e=>{e["control-name"]===t.name?r(e["control-name"]===t.name?e["error-text"]:s.CE003(),t):!o||void 0!==e["control-name"]&&"undefined"!==e["control-name"]||r(s.CE004(),o)}))}));else{const r=[];t.querySelectorAll("input").forEach((e=>{r.push(e)})),t.querySelectorAll("select").forEach((e=>{r.push(e)})),a(e,r,o)}}function c(t){const o=document.getElementById(e.message);t?(o.textContent=o.dataset.successMessageText,o.closest(".new-password-block__message").classList.add("new-password-block__message_success")):(o.textContent=o.dataset.errorMessageText,o.closest(".new-password-block__message").classList.add("new-password-block__message_error")),o.classList.remove("visually-hidden")}function l(t,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(e){return!(!e.status||e.status!==n)}(t)?(a(t,o,r),c(!1)):(c(!0),window.setTimeout((()=>{window.location.href=document.getElementById(e.form).dataset.locationHref}),5e3))}const d=document.getElementById(e.form),u=function(e){const t=[];return["input","select"].forEach((o=>{e.querySelectorAll(o).forEach((e=>{t.push(e)}))})),t}(d);document.getElementById(e.buttons.submit).addEventListener("click",(o=>{o.preventDefault(),function(){const t=document.getElementById(e.message);t.innerText="",t.classList.add("visually-hidden"),t.classList.remove("new-password-block__message_success","new-password-block__message_error")}();let n=!0;u.forEach((o=>{!function(e){const o=t(e);o&&o.classList.contains("error_fade")&&o.classList.contains("error_block")&&(o.classList.remove("error_fade"),o.classList.remove("error_block"),o.textContent="")}(o),o.id===e.controls.password&&o.value.trim().length<6&&(n=!1,r(s.CE005(),o)),o.id===e.controls.repeat&&(o.value.trim().length||(n=!1,r(s.CE013(),o)),o.value!==document.getElementById(e.controls.password).value.trim()&&document.getElementById(e.controls.password).value.trim().length&&(n=!1,r(s.CE006(),o)))})),n&&async function(e,t,o,r,s){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const a=function(e){let t;return Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null===e||"object"!=typeof e||(t=new FormData(e)),t}(e),c=await async function(e,t,o,r){let s=null;const n={method:e.toUpperCase()};"POST"===n.method&&(n.body=t);try{const e=await fetch(o,n);return r&&(e.redirected&&(window.location.href=e.url),s=await e.json()),s}catch(e){return console.error(e),s}}(t,a,o,s);r(c,e,n)}(d,d.method,d.action,l,!0,null)}))}()}();