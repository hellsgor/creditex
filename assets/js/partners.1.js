!function(){var e={5165:function(){document.querySelectorAll(".card-issued__numbers").forEach((e=>{const t=Array.from(e.querySelectorAll("span"))[2];t.textContent=new Intl.NumberFormat("ru-RU").format(Number(t.textContent))}))}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}!function(){"use strict";function e(){function e(e){return e.value.replace(/\D/g,"")}function t(t){const n=t.target,r=e(n),a=t.clipboardData||window.clipboardData;if(a){const e=a.getData("Text");/\D/g.test(e)&&(n.value=r)}}function n(t){const n=t.target;let r=e(n);const{selectionStart:a}=n;let o="";if(!r)return n.value="","";if(n.value.length===a){if(["7","8","9"].indexOf(r[0])>-1){"9"===r[0]&&(r=`7${r}`);const e=(r[0],"+7");o=`${e} `,n.value=`${e} `,r.length>1&&(o+=`(${r.substring(1,4)}`),r.length>=5&&(o+=`) ${r.substring(4,7)}`),r.length>=8&&(o+=`-${r.substring(7,9)}`),r.length>=10&&(o+=`-${r.substring(9,11)}`)}else o=`+${r.substring(0,16)}`;n.value=o}else t.data&&/\D/g.test(t.data)&&(n.value=r)}function r(e){const t=e.target.value.replace(/\D/g,"");8===e.keyCode&&1===t.length&&(e.target.value="")}let a=[];a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||document.querySelectorAll('input[type="tel"]'),a.forEach((e=>{e.addEventListener("keydown",r),e.addEventListener("input",n,!1),e.addEventListener("paste",t,!1)}))}!function(){const e=document.querySelectorAll(".header__main-menu-item-link");if("/"!==window.location.pathname){for(let t=1;t<=e.length;t++)if(window.location.pathname.includes(e[t].dataset.pathname)){e[t].classList.add("header__main-menu-item-link_this-page");break}}else e[0].classList.add("header__main-menu-item-link_this-page")}(),e();const t={VALID_PHONE:/^\+?\d{11,13}$/,VALID_EMAIL:/[a-z0-9]+@[a-z0-9]+\.[a-z0-9]+/i,VALID_PASSPORT_SERIES:/^\d{4}$/,VALID_PASSPORT_NUMBER:/^\d{6}$/,VALID_DATE:/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.\d{4}$/};function r(e){if("checkbox"===e.type||"hidden"===e.type)return null;let t=null;return"radio"!==e.type?e.closest(".form-control")?t=e.closest(".form-control").querySelector(".form-control__error"):e.closest(".form-select")?t=e.closest(".form-select").querySelector(".form-select__error"):e.closest(".form-file-upload")&&(t=e.closest(".form-file-upload").querySelector(".form-file-upload__error")):"radio"===e.type&&(t=e.closest(".form-radio").querySelector(".error")),t}function a(e,n){const a=e.closest("form");var o;e.value?(o=e,t.VALID_PHONE.test(o.value.toString().replace(/[^\d]/g,""))?(async function(e,t,n,r){let a=null;const o={method:e.toUpperCase()};"POST"===o.method&&(o.body=t);try{await fetch(n,o);return a}catch(e){return console.error(e),a}}(a.method,function(e){let t;return Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null===e||"object"!=typeof e||(t=new FormData(e)),t}([e]),a.action),window.location.href=`${n}?phoneNumber=${encodeURIComponent(e.value.toString().replace(/[^\d]/g,""))}`):function(e,t){const n=r(t);n&&(n.textContent=e,n.classList.add("error_block","error_fade"))}("Некорректный номер телефона",e)):window.location.href=n}function o(e){const t=r(e);t&&t.classList.contains("error_fade")&&t.classList.contains("error_block")&&(t.classList.remove("error_fade"),t.classList.remove("error_block"),t.textContent="")}const l=document.getElementById("offer-phone"),c=document.getElementById("offer-button");function u(e,t,n,r,a){const o=e%100;let l;if(o>=11&&o<=19)l=r;else switch(e%10){case 1:l=t;break;case 2:case 3:case 4:l=n;break;default:l=r}return a?`${e} ${l}`:l}function s(e,t){const n=e.toString().replace(/\s/g,"");return t?u(Number(n),"месяц","месяца","месяцев",!0):Number(n).toLocaleString("ru-RU",{style:"decimal"})}function i(e,t,n){t.value=s(e.value,"true"===e.dataset.isYears),n.style.width=function(e){return(e.value-e.min)/(e.max-e.min)*100+"%"}(e)}e(),c.addEventListener("click",(e=>{e.preventDefault(),a(l,c.dataset.regPagePath)})),l.addEventListener("input",(()=>{o(l)})),n(5165),document.querySelectorAll(".range").forEach((e=>{const t=e.querySelector('input[type="text"]'),n=e.querySelector('input[type="range"]'),r=e.querySelector(".range__custom-track"),a=e.querySelector(".range__min"),o=e.querySelector(".range__max");"true"===n.dataset.isYears&&(n.min*=12,n.max*=12,n.dataset.startValue*=12),[a,o].forEach((e=>{e.textContent=s(e.textContent)})),n.dataset.startValue&&(n.value=n.dataset.startValue),i(n,t,r),e.querySelectorAll(".range__postfix").forEach((n=>{n.textContent=u(Number(n.dataset.minPostfix?e.querySelector(".range__min").textContent:e.querySelector(".range__max").textContent),t.dataset.pluralizeOne,t.dataset.pluralizeTwo,t.dataset.pluralizeFive,!1)})),["input","change"].forEach((e=>{n.addEventListener(e,(()=>{i(n,t,r)}))})),t.addEventListener("focus",(()=>{t.value=n.value})),["change","blur","keydown"].forEach((e=>{t.addEventListener(e,(e=>{("change"===e.type||"blur"===e.type)&&Number(t.value)<=Number(n.max)&&Number(t.value)>=Number(n.min)&&("change"===e.type&&(n.value=t.value,n.dispatchEvent(new Event("input"))),"blur"===e.type&&i(n,t,r))}))}))}));const d="range-control-partner-calc-number-of-borrowers",m="range-control-partner-calc-average-loan-amount";function f(e,t){return(e.value/t.value).toLocaleString("ru-RU",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0})}const p=document.getElementById(d),g=document.getElementById(m),y=document.getElementById("partner-calc-result"),v=document.getElementById("partner-calc-phone"),h=document.getElementById("partner-calc-button");y.textContent=f(g,p),[p,g].forEach((e=>{e.addEventListener("input",(()=>{y.textContent=f(g,p)}))})),h.addEventListener("click",(e=>{e.preventDefault(),a(v,h.dataset.regPagePath)})),v.addEventListener("input",(()=>{o(v)}))}()}();