!function(){var e={5165:function(){document.querySelectorAll(".card-issued__numbers").forEach((e=>{const t=Array.from(e.querySelectorAll("span"))[2];t.textContent=new Intl.NumberFormat("ru-RU").format(Number(t.textContent))}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){"use strict";!function(){const e=document.querySelectorAll(".header__main-menu-item-link");if("/"!==window.location.pathname){for(let t=1;t<=e.length;t++)if(window.location.pathname.includes(e[t].dataset.pathname)){e[t].classList.add("header__main-menu-item-link_this-page");break}}else e[0].classList.add("header__main-menu-item-link_this-page")}(),n(5165);const e={VALID_PHONE:/^\+?\d{11,13}$/},t="Некорректный номер телефона";const r=document.getElementById("offer-phone"),o=document.getElementById("offer-button");!function(){function e(e){return e.value.replace(/\D/g,"")}function t(t){const n=t.target,r=e(n),o=t.clipboardData||window.clipboardData;if(o){const e=o.getData("Text");/\D/g.test(e)&&(n.value=r)}}function n(t){const n=t.target;let r=e(n);const{selectionStart:o}=n;let a="";if(!r)return n.value="","";if(n.value.length===o){if(["7","8","9"].indexOf(r[0])>-1){"9"===r[0]&&(r=`7${r}`);const e=(r[0],"+7");a=`${e} `,n.value=`${e} `,r.length>1&&(a+=`(${r.substring(1,4)}`),r.length>=5&&(a+=`) ${r.substring(4,7)}`),r.length>=8&&(a+=`-${r.substring(7,9)}`),r.length>=10&&(a+=`-${r.substring(9,11)}`)}else a=`+${r.substring(0,16)}`;n.value=a}else t.data&&/\D/g.test(t.data)&&(n.value=r)}function r(e){const t=e.target.value.replace(/\D/g,"");8===e.keyCode&&1===t.length&&(e.target.value="")}document.querySelectorAll('input[type="tel"]').forEach((e=>{e.addEventListener("keydown",r),e.addEventListener("input",n,!1),e.addEventListener("paste",t,!1)}))}(),o.addEventListener("click",(n=>{n.preventDefault(),function(n){var r;n.value?(r=n,e.VALID_PHONE.test(r.value.toString().replace(/[^\d]/g,""))?(async function(e,t,n){try{await fetch("./",{headers:{"Content-type":"application/json; charset=UTF-8"},method:"GET"})}catch(e){console.error(e)}}(function(e){let t;Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null!==!e||"object"!=typeof e||(t=new FormData(e))}([n])),window.location.href=`./registration.html?phoneNumber=${encodeURIComponent(n.value.toString().replace(/[^\d]/g,""))}`):function(e,t){const n=t.closest(".form-control").querySelector(".form-control__error");n.textContent=e,n.classList.add("error_block","error_fade")}(t,n)):window.location.href="./registration.html"}(r)})),r.addEventListener("input",(()=>{!function(e){const t=e.closest(".form-control").querySelector(".form-control__error");t.classList.remove("error_fade"),window.setTimeout((()=>{t.classList.remove("error_block"),t.textContent=""}),300)}(r)}))}()}();