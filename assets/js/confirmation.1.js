!function(){"use strict";const e="confirmation-form";function t(e){if("checkbox"===e.type||"hidden"===e.type)return null;let t=null;return"radio"!==e.type?e.closest(".form-control")?t=e.closest(".form-control").querySelector(".form-control__error"):e.closest(".form-select")?t=e.closest(".form-select").querySelector(".form-select__error"):e.closest(".form-file-upload")&&(t=e.closest(".form-file-upload").querySelector(".form-file-upload__error")):"radio"===e.type&&(t=e.closest(".form-radio").querySelector(".error")),t}const o="success",r={CE001:()=>"Некорректный номер телефона",CE002:()=>"Некорректное значение поля",CE003:()=>"Неизвестная ошибка",CE004:()=>"Неверный логин или пароль",CE005:()=>"Пароль не может быть короче 6 символов",CE006:()=>"Пароли не совпадают",CE007:()=>"Выберите тип пользователя",CE008:()=>"Введите код",CE009:()=>"Некорректный адрес электронной почты",CE010:e=>`Тип файла ${e.name} не соответствует ожидаемым`,CE011:e=>`Размер файла ${e.name} превышает допустимый`,CE012:e=>`Ожидается один файл, а не несколько. Добавлен только ${e.name}`,CE013:()=>"Поле не может быть пустым",CE014:()=>"Выберите одно из значений"};function n(e,o){const r=t(o);r&&(r.textContent=e,r.classList.add("error_block","error_fade"))}function c(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(t))t.forEach((t=>{t.removeAttribute("readonly"),e["error-info"].forEach((e=>{e["control-name"]===t.name?n(e["control-name"]===t.name?e["error-text"]:r.CE003(),t):!o||void 0!==e["control-name"]&&"undefined"!==e["control-name"]||n(r.CE004(),o)}))}));else{const r=[];t.querySelectorAll("input").forEach((e=>{r.push(e)})),t.querySelectorAll("select").forEach((e=>{r.push(e)})),c(e,r,o)}}function l(t,r){!function(e){return!(!e.status||e.status!==o)}(t)?c(t,r):window.location.href=document.getElementById(e).dataset.locationHref}const a=document.getElementById("confirmation-code"),s=document.getElementById(e);a.addEventListener("input",(()=>{var e;!function(e){const o=t(e);o&&o.classList.contains("error_fade")&&o.classList.contains("error_block")&&(o.classList.remove("error_fade"),o.classList.remove("error_block"),o.textContent="")}(a),(e=a).value=e.value.replace(/[^0-9+]/g,"")})),document.getElementById("confirmation-forward-button").addEventListener("click",(e=>{e.preventDefault(),a.value.length&&a.value.length<=8?async function(e,t,o,r,n){let c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const l=function(e){let t;return Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null===e||"object"!=typeof e||(t=new FormData(e)),t}(e),a=await async function(e,t,o,r){let n=null;const c={method:e.toUpperCase()};"POST"===c.method&&(c.body=t);try{const e=await fetch(o,c);return r&&(e.redirected&&(window.location.href=e.url),n=await e.json()),n}catch(e){return console.error(e),n}}(t,l,o,n);r(a,e,c)}(s,s.method,s.action,l,!0):a.value.length?n(r.CE002(),a):n(r.CE008(),a)}))}();